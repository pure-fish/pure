{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#pure","title":"Pure <code>\u276f\u276e\u276f</code>","text":"<p>Pretty, minimal and fast Fish \ud83d\udc1f prompt, ported from <code>zsh</code>.</p>"},{"location":"#install","title":"Install","text":"<p>Requirements</p> <p>Pure is written in <code>fish</code> language, this requires Fish shell <code>\u22653.x</code>.</p> using FisherManuallyTest a Pull Request <p>Install Fisher plugin manager, then you can install <code>pure</code> latest version with:</p> <pre><code>fisher install pure-fish/pure\n</code></pre> <ol> <li> <p>Download the installer to <code>/tmp</code> <pre><code>curl git.io/pure-fish --output /tmp/pure_installer.fish --location --silent\n</code></pre></p> </li> <li> <p>Source and trigger the installer     <pre><code>source /tmp/pure_installer.fish; and install_pure\n</code></pre></p> </li> </ol> <p>Wanna preview a pull-request before it gets merged? Just append <code>@</code> symbol, followed by a tag, branch, or commit.</p> <pre><code>fisher install pure-fish/pure@v4.13.0\n</code></pre>"},{"location":"#configuration","title":"Configuration","text":"<p>You can tweak <code>pure</code> behavior and color by changing universal variables either directly in the terminal or in your <code>config.fish</code>, e.g.:</p> <pre><code># try to change prompt symbol\nset --universal pure_symbol_prompt '&gt;&gt;&gt;'\n# restore default\nset --universal pure_symbol_prompt '\u276f'\n</code></pre>"},{"location":"#features","title":"Features","text":""},{"location":"#overview","title":"Overview","text":"<p>Fully customizable (colors, symbols and features):</p> <ul> <li> <p>Excellent prompt character <code>\u276f</code> \ud83d\udee0:</p> <ul> <li>Change <code>\u276f</code> to red when previous command has failed \ud83d\udee0 ;</li> <li>Start prompt with current working directory \ud83c\udff4 ;</li> <li>Compact-mode (single-line prompt) \ud83c\udff4 ;</li> <li>List exit statuses if the last command failed \ud83c\udff4 ;</li> </ul> </li> <li> <p>Check for new release on start \ud83c\udff4\ud83d\udc0c ;</p> </li> <li>Display username and hostname when in an <code>SSH</code> session \ud83d\udee0 ;</li> <li>Display command duration when longer than <code>5</code> seconds \ud83d\udee0 ;</li> <li>Display <code>Python</code> virtualenv when activated \ud83c\udff4\ud83d\udee0 ;</li> <li>Display <code>AWS</code> profile when set \ud83c\udff4\ud83d\udee0 ;</li> <li>Display <code>VI</code> mode and custom symbol for non-insert mode \ud83c\udff4\ud83d\udee0 ;</li> <li>Display <code>kubernetes</code> context and namespace \ud83c\udff4\ud83d\udee0 ;</li> <li>Detect when running in a container (e.g. <code>docker</code>, <code>podman</code>, <code>LXC</code>/<code>LXD</code>) \ud83c\udff4\ud83d\udee0</li> <li>Indicate if a <code>nix develop</code> shell is activated \ud83c\udff4\ud83d\udee0.</li> <li>Show system time \ud83c\udff4 ;</li> <li>Transient prompt mode simplifies previous prompts \ud83c\udff4 ;</li> <li>Show number of running jobs \ud83c\udff4 ;</li> <li>Prefix when <code>root</code> \ud83c\udff4\ud83d\udee0 ;</li> <li> <p>Display <code>git</code> branch name \ud83c\udff4\ud83d\udee0 ;</p> <ul> <li>Display <code>*</code> when <code>git</code> repository is dirty ;</li> <li>Display <code>\u2261</code> when <code>git</code> repository is stashed ;</li> <li>Display <code>\u21e1</code> when branch is ahead (commits to push) ;</li> <li>Display <code>\u21e3</code> when branch is behind (commits to pull) ;</li> <li>Display the number of stashes, ahead and behind commits (e.g. <code>\u22613 \u21e15 \u21e32</code>) ;</li> <li>Async update when configured with fish-async-prompt ;</li> </ul> </li> <li> <p>Update terminal title with current folder and command \ud83d\udee0 ;</p> </li> <li>Shorten or truncate current folder component \ud83c\udff4\ud83d\udee0 ;</li> <li>and more\u2026</li> </ul> <p>\ud83c\udff4 means it's controlled by a feature flag, \ud83d\udee0 means it's configurable.</p>"},{"location":"RELEASE/","title":"RELEASE","text":""},{"location":"RELEASE/#releasing","title":"Releasing","text":"<p>Release process is automated in the pipeline with the following steps.</p> <p>Info</p> <p>We follow semver, release is manage in the pipeline</p>"},{"location":"RELEASE/#posting-on-social-media","title":"Posting on social media","text":"<p>There is a workflow to post on social media that is triggered when a new release is published.</p>"},{"location":"RELEASE/#test","title":"Test","text":"<p>We run the test workflow on:</p> <ul> <li>Pull Request changing</li> <li>any <code>**.fish</code> ;</li> <li>and workflow (<code>*.yml</code>) files ;</li> <li>on <code>master</code> branch changing</li> <li><code>**.fish</code> files with the exception <code>conf.d/pure.fish</code>, as we have dedicated mechanism to manage versions bump ;</li> <li>and workflow (<code>*.yml</code>) files</li> </ul>"},{"location":"RELEASE/#versioning","title":"Versioning","text":"<p>Success</p> <p>Commit messages must follow conventional commits convention.</p> <p>Versioning is done automatically based on commit messages and triggered only on <code>master</code> branch.</p> <p>Details:</p> <ol> <li>We compute the project's next version using a GitHub Action ;</li> <li>Then update <code>$pure_version</code> value in <code>./conf.d/pure.fish</code> ;</li> <li>Finally commit and push the change to the repo.</li> </ol> <p>Info</p> <p>We have a git hook to append branch name to version on branch checkout. You need to enable githooks in your local repo with </p> <pre><code>git config core.hooksPath .githooks/\n</code></pre>"},{"location":"RELEASE/#adding-new-tag","title":"Adding new tag","text":"<p>The <code>add-version-tag.yml</code> pipeline is triggered only for <code>master</code> when <code>./conf.d/pure.fish</code> is changed and add a tagged based on <code>$pure_version</code>.</p>"},{"location":"about/","title":"About","text":""},{"location":"about/#versions-support-strategy","title":"Versions Support Strategy","text":"<p>We decided to restrict our support to the major <code>Fish</code> versions only (currently <code>3.x</code> and <code>4.x</code>).</p> <p>This decision is based on the availability of those versions on LTS Ubuntu thanks to the official PPAs' for Fish <code>3.x</code> PPA and Fish <code>4.x</code> as well as on others distributions repositories.</p> <p>As of May 2025, we should:</p> <ul> <li> Start supporting Fish <code>4.x</code> and above ;</li> <li> Set minimal support for <code>3.x</code> branch to <code>3.3.1</code> and above (as per Ubuntu LTS standard security maintenance policy) ;</li> <li>  drop support for <code>2.x</code> ;</li> </ul>"},{"location":"about/#energy-footprint","title":"Energy footprint","text":"<p>To reduce our energy footprint, we will only test:</p> <ul> <li>versions available on latest Ubuntu LTS, MacOS and NixOS (see availability) ;</li> <li>latest two versions of Fish.</li> </ul>"},{"location":"about/#license","title":"License","text":"<p>MIT</p>"},{"location":"about/#contributors","title":"Contributors","text":""},{"location":"about/#maintainer","title":"Maintainer","text":"<ul> <li>\u00c9douard Lopez</li> </ul>"},{"location":"about/#thanks","title":"Thanks","text":"<ul> <li>@andreiborisov for the docker images ;</li> <li>@jorgebucaran for fishtape ;</li> <li>@rafaelrinaldi for starting the project ;</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>Note</p> <p>All notable changes to this project are documented below. This changelog is automatically generated from GitHub Releases.</p>"},{"location":"changelog/#v4151-support-virtual_env_prompt","title":"v4.15.1: \ud83d\udc0d support <code>VIRTUAL_ENV_PROMPT</code>","text":"<p>2026-02-13</p>"},{"location":"changelog/#support-virtual_env_prompt","title":"\ud83d\udc0d Support <code>VIRTUAL_ENV_PROMPT</code>","text":"<p>In addition to the already implemented <code>VIRTUAL_ENV</code> variable, many Python virtual env tools also set <code>VIRTUAL_ENV_PROMPT</code> (e.g. virtualenv). Unlike <code>VIRTUAL_ENV</code>, which is the absolute path to the virtual env directory (e.g. <code>/home/user/project/.venv</code>), <code>VIRTUAL_ENV_PROMPT</code> is just the name of the virtual env project.</p> <p>This pull request implements displaying <code>VIRTUAL_ENV_PROMPT</code> when it's set and defaulting to existing <code>VIRTUAL_ENV</code> or <code>CONDA_DEFAULT_ENV</code> base names otherwise.</p> <p>Thanks to @gouline works on #405</p>"},{"location":"changelog/#whats-changed","title":"What's Changed","text":"<ul> <li>fix: support VIRTUAL_ENV_PROMPT alongside VIRTUAL_ENV by @gouline in pure-fish/pure!405</li> <li>docs/import release notes by @edouard-lopez in pure-fish/pure!370</li> <li>docs/fix documentation table of contents links broken 403 by @edouard-lopez in pure-fish/pure!404</li> </ul>"},{"location":"changelog/#new-contributors","title":"New Contributors","text":"<ul> <li>@gouline made their first contribution in pure-fish/pure!405</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.15.0...v4.15.1</p>"},{"location":"changelog/#v4150-option-to-display-exit-pipe-status","title":"v4.15.0: Option to display exit pipe status","text":"<p>2026-01-07</p>"},{"location":"changelog/#list-exit-statuses","title":"List Exit Statuses","text":"<ul> <li>feat: add option to display exit pipe status by @Maritsu  in pure-fish/pure!395</li> </ul> State Preview Enabled (list exit statuses) Enabled (convert statuses to signals) Option Default Description <code>pure_show_exit_status</code> <code>false</code> <code>true</code>: Show list of status codes if the last command failed <code>pure_convert_exit_status_to_signal</code> <code>false</code> <code>true</code>: Convert statuses 129 and up to their signal names <code>pure_symbol_exit_status_prefix</code> <code>\\|</code> Prefix when the last command failed <code>pure_symbol_exit_status_separator</code> <code>\\|</code> Separator between statuses in a pipeline"},{"location":"changelog/#new-contributors_1","title":"New Contributors","text":"<ul> <li>@Maritsu made their first contribution in pure-fish/pure!395</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.14.1...v4.15.0</p>"},{"location":"changelog/#v4140-being-polite","title":"v4.14.0: \ud83d\udc4b Being polite","text":"<p>2025-12-04</p>"},{"location":"changelog/#whats-changed_1","title":"What's Changed","text":"<ul> <li>feat/show version on install update by @edouard-lopez in pure-fish/pure!390</li> </ul> <p>We do our best to clean up after ourselves and provides information on the version installed or updated.</p>"},{"location":"changelog/#plugin-fresh-install","title":"Plugin Fresh Install","text":""},{"location":"changelog/#plugin-update","title":"Plugin Update","text":"<p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.13.0...v4.14.0</p>"},{"location":"changelog/#v4130-support-transient-prompt","title":"v4.13.0: Support Transient prompt","text":"<p>2025-12-03</p>"},{"location":"changelog/#whats-changed_2","title":"What's Changed","text":"<ul> <li>feat: add transient prompt support (Fish 4.1.0+) by @Copilot in pure-fish/pure!389</li> <li>Remove <code>fish_greeting.fish</code> to stop overriding user's custom greeting by @Copilot in pure-fish/pure!387</li> <li>docs/screenshot automation by @edouard-lopez in pure-fish/pure!345</li> <li>ci/extract terminal screenshot to a docker image by @edouard-lopez in pure-fish/pure!386</li> </ul>"},{"location":"changelog/#features","title":"Features","text":""},{"location":"changelog/#transient-prompt","title":"Transient Prompt","text":"<p>Simplify previous prompts in scrollback history (Fish 4.1.0+)</p> Option Default Description <code>fish_transient_prompt</code> - Fish built-in variable. Set to <code>1</code> to enable transient prompt. <p>Shows a simplified prompt (just the prompt symbol) for previous commands, keeping your scrollback clean while maintaining full context on the current prompt. When enabled, Fish re-runs the prompt with <code>--final-rendering</code> before executing a command.</p> <p>Transient prompt works best with single line prompt enabled:</p> <pre><code>set --universal fish_transient_prompt 1\nset --universal pure_enable_single_line_prompt true\n</code></pre>"},{"location":"changelog/#preview","title":"Preview","text":"Enabled(simplified previous prompts, single line)  Disabled(full prompts in scrollback)"},{"location":"changelog/#changes","title":"Changes","text":""},{"location":"changelog/#customizing-fish-greeting","title":"\ud83d\udc4b Customizing Fish Greeting","text":"<p>Since version <code>\u22654.13.x</code>, <code>pure</code> does not override your <code>fish_greeting</code> function anymore, allowing you to use your own custom greeting.</p> <p>To configure your Fish's greeting, edit <code>$__fish_config_dir/functions/fish_greeting.fish</code> function or the related variable:</p>"},{"location":"changelog/#check-for-new-release","title":"Check for new release","text":"<p>Add the following to call pure_check_for_new_release on each new shell (i.e., when a new terminal session or <code>tmux</code> tab starts):</p> <pre><code>function fish_greeting\n    _pure_check_for_new_release\nend\n</code></pre>"},{"location":"changelog/#void-fish_greeting-function","title":"Void <code>fish_greeting</code> function","text":"<p>Voiding the fish_greeting.fish function will stop printing any greeting:</p> <pre><code>function fish_greeting\n    # remove content to disable greeting\nend\n</code></pre>"},{"location":"changelog/#empty-fish_greeting-variable","title":"Empty <code>fish_greeting</code> variable","text":"<p>Or set the greeting to an empty string to stop printing any greeting:</p> <pre><code>set --universal fish_greeting\n</code></pre>"},{"location":"changelog/#screenshots-automation-for-the-documentation","title":"Screenshots Automation for the Documentation","text":"<p>We automated the tedious task of taking screenshots of the prompt features and build the documentation. Thus, we have always-up-to-date features screenshots! \ud83d\udcf8</p> <p></p>"},{"location":"changelog/#dedicated-project","title":"Dedicated project","text":"<p>This feature has been extracted to a dedicated repo pure-fish/docker-terminal-screenshot to allow a maximum of people to use it  </p> <p>Pre-built Docker image with OmarTawfik/terminal-screenshot!11 for automated terminal screenshot generation.</p> <p></p>"},{"location":"changelog/#new-contributors_2","title":"New Contributors","text":"<ul> <li>@Copilot made their first contribution in pure-fish/pure!387 IA congratulating itself  (nice help bootstrapping PR, but still need human touch)</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.12.0...v4.13.0</p>"},{"location":"changelog/#v4120-shows-git-stash-commits-aheadbehind-count-next-to-indicator","title":"v4.12.0: Shows git stash, commits ahead/behind count next to indicator","text":"<p>2025-09-23</p>"},{"location":"changelog/#whats-changed_3","title":"What's Changed","text":"<ul> <li>feat: numbered git stash, commits ahead/behind indicator by @lungsin in pure-fish/pure!382</li> <li>ci/fix nixos tests by @edouard-lopez in pure-fish/pure!384</li> </ul>"},{"location":"changelog/#numbered-git-stash-commits-aheadbehind-indicator","title":"Numbered git stash, commits ahead/behind indicator","text":"<pre><code>\u276f set --universal pure_show_numbered_git_indicator false # default\n\u276f set --universal pure_show_numbered_git_indicator true\n</code></pre> <p>Default (disabled) | Feature enabled | --- | ---  | nothing next to stash, pull/push indicator  | count of stash entries, commit ahead/behind next to indicators</p>"},{"location":"changelog/#citests","title":"CI/Tests","text":"<ul> <li>Test jobs now show fish version used ;</li> <li>update NixOS image to <code>2.31.2</code> ;</li> <li>Fix all test on NixOS due to missing package ;</li> <li>Add AGENTS.md file to project ;</li> <li>support pre-release version number when bumping version (used in PR tests)</li> </ul>"},{"location":"changelog/#new-contributors_3","title":"New Contributors","text":"<ul> <li>@lungsin made their first Pull request contribution in pure-fish/pure!382</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.11.4...v4.12.0</p>"},{"location":"changelog/#v4114-improve-vs-code-shell-integration-and-nixos-tests","title":"v4.11.4: Improve VS Code Shell integration and NixOS tests","text":"<p>2025-09-22</p>"},{"location":"changelog/#whats-changed_4","title":"What's Changed","text":"<ul> <li>fix(vscode): prevent vscode from adding extra line by @edouard-lopez in pure-fish/pure!381</li> <li>docs/contributing.md by @edouard-lopez in pure-fish/pure!374</li> <li>ci: Update <code>nix.Dockerfile</code> by @Pamplemousse in pure-fish/pure!376</li> </ul>"},{"location":"changelog/#use-source-in-nixos","title":"Use source in NixOS","text":"<p>We use <code>pure</code> current source code when running the tests instead of the package from Nix repository. This way, tests are relevant to what is being developed (not was is already published).</p>"},{"location":"changelog/#improve-vs-code-shell-integration","title":"Improve VS Code Shell integration","text":"<p>Prevent vscode from adding extra line</p> Before After"},{"location":"changelog/#new-contributors_4","title":"New Contributors","text":"<ul> <li>@Pamplemousse made their first contribution in pure-fish/pure!376</li> </ul>"},{"location":"changelog/#thanks","title":"Thanks","text":"<ul> <li>@Perlence for raising the issue, providing insight and feedback before release</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.11.3...v4.11.4</p>"},{"location":"changelog/#v4113-nixos-fix-sourcing-from-vendor-directory","title":"v4.11.3: NixOS fix sourcing from vendor directory","text":"<p>2025-06-06</p>"},{"location":"changelog/#whats-changed_5","title":"What's Changed","text":"<ul> <li>fix(nixOS): use relative path resolution so it works in vendor directory too by @edouard-lopez in pure-fish/pure!371</li> <li>docs: fix preview url by @edouard-lopez in pure-fish/pure!367</li> <li>ci/post release on social networks by @edouard-lopez in pure-fish/pure!372</li> <li>chore: Create FUNDING.yml by @edouard-lopez in pure-fish/pure!366</li> </ul>"},{"location":"changelog/#thanks_1","title":"Thanks","text":"<ul> <li>caspervk for the NixOs insights</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.11.2...v4.11.3</p>"},{"location":"changelog/#v4112","title":"v4.11.2","text":"<p>2025-05-20</p>"},{"location":"changelog/#whats-changed_6","title":"What's Changed","text":"<ul> <li>fix: add shepherd to the list of supported init programs by @jbweston in pure-fish/pure!354</li> </ul>"},{"location":"changelog/#new-contributors_5","title":"New Contributors","text":"<ul> <li>@jbweston made their first contribution in pure-fish/pure!354</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.11.1...v4.11.2</p>"},{"location":"changelog/#v4111","title":"v4.11.1","text":"<p>2025-05-19</p>"},{"location":"changelog/#whats-changed_7","title":"What's Changed","text":"<ul> <li>ci: allow manually running a workflow by @edouard-lopez in pure-fish/pure!361</li> <li>ci: drop 3.6.3 and 3.7.0 in favour of 3.7.1 and 4.0.2 by @edouard-lopez in pure-fish/pure!363</li> <li>fix: source _pure_prompt_new_line event handler instead of relying on autoloading by @edouard-lopez in pure-fish/pure!357</li> <li>fix/360 fish title append an extra space in 4 0 2 by @edouard-lopez in pure-fish/pure!365</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.11.0...v4.11.1</p>"},{"location":"changelog/#v4110-new-doc-aws-profile-support-and-tests-on-macos","title":"v4.11.0: \ud83d\udcd6 New Doc! \u2728 AWS Profile Support and \ud83e\udd16 tests on MacOS","text":"<p>2024-02-16</p>"},{"location":"changelog/#whats-changed_8","title":"What's Changed","text":"<ul> <li> docs/revamp documentation and automate screenshots by @edouard-lopez in pure-fish/pure!343</li> <li> feat: AWS profile prompt by @kwigley in pure-fish/pure!346</li> <li> ci: Pass tests under macOS by @hyperupcall in pure-fish/pure!340</li> </ul>"},{"location":"changelog/#new-documentation","title":"New Documentation","text":"<ul> <li>a better User eXperience (UX)</li> <li>a dedicated site, </li> <li>searchable content (thanks to mkdocs)</li> <li>screenshot of prompt with/without feature enabled (thanks to terminal-screenshot)</li> <li>a better organization for options</li> <li>linkable content you can share/bookmark</li> </ul>"},{"location":"changelog/#raws-profile","title":"rAWS Profile","text":"Option Default Description <code>pure_enable_aws_profile</code> <code>true</code> Show AWS profile name (based on <code>AWS_VAULT</code> or <code>AWS_PROFILE</code>). <code>pure_symbol_aws_profile_prefix</code> Prefix when a AWS profile is activated (default: undefined) with a AWS Vault with a AWS Profile"},{"location":"changelog/#test-against-macos-in-ci","title":"Test against MacOS in CI","text":"<p>We use <code>brew</code> to install Fish.</p>"},{"location":"changelog/#new-contributors_6","title":"New Contributors","text":"<ul> <li>@hyperupcall made their first contribution in pure-fish/pure!340</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.10.1...v4.11.0</p>"},{"location":"changelog/#v4101-add-support-for-nix-build-environment","title":"v4.10.1: Add support for Nix build environment","text":"<p>2024-01-25</p>"},{"location":"changelog/#whats-changed_9","title":"What's Changed","text":"<ul> <li>Add support for Nix build environment by @m15a in pure-fish/pure!338</li> </ul>"},{"location":"changelog/#nix-develop-shell-activation","title":"Nix  develop Shell activation","text":"Option Default Description <code>pure_enable_nixdevshell</code> <code>false</code> Indicate if a <code>nix develop</code> shell is activated (based on <code>IN_NIX_SHELL</code>). <code>pure_symbol_nixdevshell_prefix</code> <code>\u2744\ufe0f</code> otherwise nerdfonts: '\udb84\udd05' or '\uf313' <code>pure_color_nixdevshell_prefix</code> <code>pure_color_info</code> prefix color <code>pure_color_nixdevshell_symbol</code> <code>pure_color_mute</code> symbol color"},{"location":"changelog/#usage","title":"Usage","text":"<pre><code>set --universal pure_enable_nixdevshell true\n</code></pre>"},{"location":"changelog/#new-contributors_7","title":"New Contributors","text":"<ul> <li> <p>@m15a made their first contribution in pure-fish/pure!338</p> </li> <li> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.9.0...v4.10.1</p> </li> </ul>"},{"location":"changelog/#v490-truncate-prompt-current_directory-and-title-to-keep-last-components","title":"v4.9.0: Truncate prompt current_directory and title to keep last components","text":"<p>2024-01-23</p>"},{"location":"changelog/#whats-changed_10","title":"What's Changed","text":"<ul> <li>feat: truncate prompt current_directory and title to keep  last components by @edouard-lopez in pure-fish/pure!337</li> </ul>"},{"location":"changelog/#config","title":"Config","text":""},{"location":"changelog/#prompt-shortening","title":"Prompt shortening","text":"Option Default Description <code>pure_truncate_prompt_current_directory_keeps</code> <code>0</code> Truncate working directory path in prompt, but keeps the last to <code>n</code> components (<code>0</code> full path in current directory) <p><pre><code>set --universal pure_truncate_prompt_current_directory_keeps 2\n</code></pre> </p>"},{"location":"changelog/#windows-title-shortening","title":"Window's title shortening","text":"Option Default Description <code>pure_truncate_window_title_current_directory_keeps</code> <code>0</code> Truncate working directory path in window title, but keeps the last to <code>n</code> components (<code>0</code> keep full path in window title) <pre><code>set --universal pure_truncate_window_title_current_directory_keeps 2\n</code></pre>"},{"location":"changelog/#thanks_2","title":"Thanks","text":"<ul> <li>@1999masih for suggesting the idea</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.8.3...v4.9.0</p>"},{"location":"changelog/#v482-fix-k8s-context-checking","title":"v4.8.2: fix k8s context checking","text":"<p>2023-12-01</p>"},{"location":"changelog/#whats-changed_11","title":"What's Changed","text":"<ul> <li>fixed duplicate lines in readme by @n-crespo in pure-fish/pure!333</li> <li>fix k8s context checking by @edouard-lopez in pure-fish/pure!334</li> <li>Thanks to @bobsoppe #331 for the initial work</li> </ul>"},{"location":"changelog/#default-when-no-namespace-set","title":"Default when no namespace set","text":""},{"location":"changelog/#new-contributors_8","title":"New Contributors","text":"<ul> <li>@n-crespo made their first contribution in pure-fish/pure!333</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.8.1...v4.8.2</p>"},{"location":"changelog/#v481-add-color-customization-to-kubernestes-symbol","title":"v4.8.1: Add color customization to kubernestes symbol","text":"<p>2023-09-26</p>"},{"location":"changelog/#whats-changed_12","title":"What's Changed","text":"<ul> <li>refactor k8s support #330 </li> </ul>"},{"location":"changelog/#new-config-in-confdpurefish","title":"New config in conf.d/pure.fish","text":"<pre><code>_pure_set_default pure_color_k8s_symbol pure_color_dark\n</code></pre>"},{"location":"changelog/#usage_1","title":"Usage","text":"<pre><code>set --universal pure_enable_k8s true # enable the featyre\nset --universal pure_color_k8s_symbol cyan # customize color\n</code></pre>"},{"location":"changelog/#preview_1","title":"Preview","text":""},{"location":"changelog/#thanks_3","title":"Thanks","text":"<ul> <li>@bobsoppe for spotting the gap and submitting the PR</li> </ul>"},{"location":"changelog/#v480-nixos-support","title":"v4.8.0: NixOS support","text":"<p>2023-08-30</p>"},{"location":"changelog/#whats-changed_13","title":"What's Changed","text":"<ul> <li>feat: add NixOs Dockerfile by @edouard-lopez in pure-fish/pure!328</li> </ul>"},{"location":"changelog/#nixos-support","title":"NixOS Support","text":"<p>Some of the tests and test utils assumed they were ran by <code>$USER=nemo</code>. This is not the case in NixOS and probably other distros as well. We fixed the tests for NixOS, but there is still work to do ensure</p>"},{"location":"changelog/#ci","title":"CI","text":""},{"location":"changelog/#nixos-job","title":"NixOS Job","text":"<p>We added a job to run the test again NixOS <code>2.17.0</code> using Fish <code>3.6.1</code> only</p> <p></p>"},{"location":"changelog/#dropping-versions-support","title":"Dropping Versions Support","text":"<p>The following versions have been dropped, following our Versions Support Strategy</p> <pre><code>- Fish: 3.0.2\n- Fish: 3.1.2\n- Fish: 3.2.2\n- Fish: 3.3.1\n</code></pre>"},{"location":"changelog/#mocks","title":"Mocks","text":"<p>We recently introduced a set of helpers functions to mock and spy system or pure's function. Here is a summary, but be sure to check the content of https://github.com/pure-fish/pure/tree/master/tests/mocks for implementation details.</p>"},{"location":"changelog/#mocking","title":"Mocking","text":"<ul> <li><code>_mock</code>: Mock a function using the mock in <code>tests/mocks/</code></li> <li><code>function_name</code>: name of the method to mock</li> <li><code>_mock_exit_status</code>: Mock a response exit status for a mock function</li> <li><code>function_name</code>: name of the method to mock</li> <li><code>status_code</code>: response to return</li> <li><code>_mock_response</code>: Mock a response for a mock function</li> <li><code>function_name</code>: name of the method to mock</li> <li><code>response</code>: response to return</li> <li><code>_clean_mock</code>: Clean a mock function  (warning: erase the function)</li> <li><code>function_name</code>: name of the method to mock</li> </ul>"},{"location":"changelog/#spying","title":"Spying","text":"<ul> <li><code>_spy</code>: Create a spy method so, you can check it's been called with <code>_has_called</code></li> <li><code>function_name</code>: name of the method to spy</li> <li><code>_has_called</code>: check spy method has been called, i.e has written to the /tmp/$function_name.mock_calls</li> <li><code>function_name</code>: name of the that have been spied on</li> <li><code>function_args</code> # arguments to passed to the spy</li> </ul>"},{"location":"changelog/#cleaning","title":"Cleaning","text":"<ul> <li><code>_clean_all_mocks</code>: Clean all mock functions created by <code>_mock</code></li> <li><code>_pure_unmock</code>: Restore a pure function by reloading its source</li> <li><code>function_name</code>: name of the method to mock</li> <li><code>_clean_all_spy_calls</code>: Clean all spy calls created by <code>_spy</code></li> </ul>"},{"location":"changelog/#installation","title":"Installation","text":"<pre><code>fisher update pure-fish/pure; or fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_4","title":"Thanks","text":"<ul> <li>@pacien for spotting the issue, providing feedback about NixOS and his patience</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.7.1...v4.8.0</p>"},{"location":"changelog/#v471","title":"v4.7.1","text":"<p>2023-08-29</p>"},{"location":"changelog/#whats-changed_14","title":"What's Changed","text":"<ul> <li>fix/missing blank line between prompts 293 by @edouard-lopez in pure-fish/pure!326</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.7.0...v4.7.1</p>"},{"location":"changelog/#v470-virtualenv-feature-flag-and-customization-symbol","title":"v4.7.0: Virtualenv feature flag and customization symbol","text":"<p>2023-08-22</p>"},{"location":"changelog/#whats-changed_15","title":"What's Changed","text":"<ul> <li>feat(python): add feature flag to control virtualenv behavior by @edouard-lopez in pure-fish/pure!325</li> </ul>"},{"location":"changelog/#add-feature-flag-and-customization-symbol-for-virtualenv","title":"Add feature flag and customization symbol for Virtualenv","text":""},{"location":"changelog/#preview_2","title":"Preview","text":""},{"location":"changelog/#configuration","title":"Configuration","text":"Option Default Description <code>pure_symbol_virtualenv_prefix</code> Prefix when a Python virtual env is activated (default: undefined) <code>pure_enable_virtualenv</code> <code>true</code> Show virtual env name (based on <code>VIRTUAL_ENV</code> or <code>CONDA_DEFAULT_ENV</code>)."},{"location":"changelog/#default-behaviour-true","title":"Default Behaviour: <code>true</code>","text":"<pre><code>\u276f set --universal pure_enable_virtualenv true\n</code></pre>"},{"location":"changelog/#feature-enable-true","title":"Feature Enable: <code>true</code>","text":"<pre><code>\u276f set --universal pure_enable_virtualenv true\n\u276f set --universal pure_symbol_virtualenv_prefix \"\ud83d\udc0d \"\n</code></pre> <p>Then activate a virtualenv or simulate one: <pre><code>\u276f set VIRTUAL_ENV /home/test/fake/project/ # simulate virtualenv\n~/projects/contributions/pure master \u2261\n\ud83d\udc0d project \u276f\n</code></pre></p> <p>pure_enable_virtualenv.webm</p>"},{"location":"changelog/#installation_1","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_5","title":"Thanks","text":"<ul> <li>@Sbozzolo for initiating the conversation #274</li> <li>@dwt for suggesting the emoji #291</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.6.4...v4.7.0</p>"},{"location":"changelog/#v464","title":"v4.6.4","text":"<p>2023-08-21</p>"},{"location":"changelog/#whats-changed_16","title":"What's Changed","text":"<ul> <li>fix/remove user and host when outside container by @edouard-lopez in pure-fish/pure!327</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.6.3...v4.6.4</p>"},{"location":"changelog/#v463","title":"v4.6.3","text":"<p>2023-08-21</p>"},{"location":"changelog/#whats-changed_17","title":"What's Changed","text":"<ul> <li>Refrain from printing container string matches by @erik-inkapool in pure-fish/pure!283</li> </ul>"},{"location":"changelog/#new-contributors_9","title":"New Contributors","text":"<ul> <li>@erik-inkapool made their first contribution in pure-fish/pure!283</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.6.2...v4.6.3</p>"},{"location":"changelog/#v462","title":"v4.6.2","text":"<p>2023-08-21</p>"},{"location":"changelog/#whats-changed_18","title":"What's Changed","text":"<ul> <li>improve _pure_prompt_git_dirty #286 thanks to @spthm</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.6.1...v4.6.2</p>"},{"location":"changelog/#v461","title":"v4.6.1","text":"<p>2023-08-21</p>"},{"location":"changelog/#whats-changed_19","title":"What's Changed","text":"<ul> <li>fix/tests by @edouard-lopez in pure-fish/pure!324</li> <li>Add test helpers function: <code>_spy</code>, <code>_has_called</code>, <code>_cleanup_spy_calls</code></li> <li>renaming: <code>setup</code> \u2192 <code>before_all</code>, <code>teardown</code> \u2192 <code>after_all</code></li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.6.0...v4.6.1</p>"},{"location":"changelog/#v460-kubernetes-context-and-namespace-message-warn-missing-requirement-pull-request-template","title":"v4.6.0: Kubernetes context and namespace, message warn missing requirement, pull request template","text":"<p>2023-08-16</p>"},{"location":"changelog/#whats-changed_20","title":"What's Changed","text":"<ul> <li>feat/add kubernetes k8s support by @edouard-lopez in pure-fish/pure!323</li> <li>Pull request template</li> <li>Full Changelog: https://github.com/pure-fish/pure/compare/v4.5.0...v4.6.0</li> </ul>"},{"location":"changelog/#kubernetes-context-and-namespace","title":"Kubernetes Context and Namespace","text":""},{"location":"changelog/#configuration_1","title":"Configuration","text":"Option Default Description <code>pure_symbol_k8s_prefix</code> <code>\u2638</code> Prefix when being connected to Kubernetes/K8s <code>pure_enable_k8s</code> <code>false</code> <code>true</code>: shows <code>kubernetes</code> context and namespace."},{"location":"changelog/#default-behaviour-false","title":"Default Behaviour: <code>false</code>","text":"<pre><code>\u276f set --universal pure_enable_k8s false\n~/projects/contributions/pure master \u2261\n</code></pre>"},{"location":"changelog/#feature-enable-true_1","title":"Feature Enable: <code>true</code>","text":"<pre><code>\u276f set --universal pure_enable_k8s true\n~/projects/contributions/pure master \u2261 \u2638 int-infra-eks-cluster-eu-west-3/qraft\n</code></pre>"},{"location":"changelog/#warning-message-when-command-required-by-feature-is-missing","title":"Warning Message When Command Required by Feature is Missing","text":"<p>For now, this mechanism is only on the k8s feature, but that's something I would like to add to other features. </p> <p>pure-k8s-feature.webm</p> <p>The detection behaviour is implemented in <code>_pure_check_availability</code> function &amp; tests and it's used like:</p> <p><pre><code>_pure_check_availability &lt;feature_name&gt; &lt;cmd&gt;\n</code></pre> Where <code>feature_name</code> is the feature that requires the command/function <code>cmd</code></p>"},{"location":"changelog/#pull-request-template","title":"Pull request template","text":"<p>Link to resources and how-tos to give contributors autonomy. See .github/pull_request_template.md for full content.</p>"},{"location":"changelog/#preview_3","title":"Preview","text":""},{"location":"changelog/#installation_2","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_6","title":"Thanks","text":"<ul> <li>@dwt for initiating the conversation #291</li> </ul>"},{"location":"changelog/#450-custom-windows-and-prompts-title-shortening-flag","title":"4.5.0: Custom window's and prompt's title shortening flag","text":"<p>2023-08-01</p>"},{"location":"changelog/#fish_title-add-setting-to-configure-pwd-dir-length","title":"<code>fish_title</code>: add setting to configure pwd dir length","text":"<p>Add new <code>pure_title_dir_length</code> setting (default to <code>0</code>) to configure the <code>pwd</code> dir length. 0 means complete directory name.</p>"},{"location":"changelog/#prompt-shortening_1","title":"Prompt shortening","text":"Option Default Description <code>pure_shorten_prompt_current_directory_length</code> <code>0</code> Shorten every prompt path component but the last to X characters (0 do not shorten)"},{"location":"changelog/#no-shortening-with-0","title":"No shortening with <code>0</code>","text":"<pre><code>\u276f set --universal --export pure_shorten_prompt_current_directory_length 0\n~/projects/contributions/pure master \u2261 \u21e1\n</code></pre>"},{"location":"changelog/#custom-shortening","title":"Custom shortening","text":"<pre><code>\u276f set --universal --export pure_shorten_prompt_current_directory_length 1\n~/p/c/pure master \u2261 \u21e1\n</code></pre> <pre><code>\u276f set --universal --export pure_shorten_prompt_current_directory_length 2\n~/pr/co/pure master \u2261 \u21e1\n</code></pre>"},{"location":"changelog/#windows-title-shortening_1","title":"Window's title shortening","text":"Option Default Description <code>pure_shorten_window_title_current_directory_length</code> <code>0</code> Shorten every window title path component but the last to X characters (0 do not shorten)"},{"location":"changelog/#no-shortening-with-0_1","title":"No shortening with <code>0</code>","text":"<p><pre><code>\u276f set --universal --export pure_shorten_window_title_current_directory_length 0\n</code></pre> </p>"},{"location":"changelog/#custom-shortening_1","title":"Custom shortening","text":"<p><pre><code>\u276f set --universal --export pure_shorten_window_title_current_directory_length 1\n</code></pre> </p>"},{"location":"changelog/#installation_3","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_7","title":"Thanks","text":"<ul> <li>@ovv for the PR #307</li> </ul>"},{"location":"changelog/#v444-fish-361-and-fix-container-detection-default-behavior","title":"v4.4.4: Fish 3.6.1 and fix container detection default behavior","text":"<p>2023-06-29</p>"},{"location":"changelog/#remove-userhost-information-by-default","title":"Remove <code>user@host</code> information by default","text":"<p>The prompt behaviour was inconsistent with the <code>pure_enable_container_detection</code> flag. The component <code>user@host</code> was shown when it was not supposed to be (cf. #319).</p> <p>Now, you need to enable the feature to see the prompt when inside container:</p> <pre><code>set --universal pure_enable_container_detection true\n</code></pre>"},{"location":"changelog/#installation_4","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_8","title":"Thanks","text":"<p>@broizter WSL 1 shows user@hostname #319 </p>"},{"location":"changelog/#fish-361-is-supported","title":"Fish <code>3.6.1</code> is supported","text":"<p>I updated the CI to test against <code>3.6.1</code> using pure-fish/docker-fish image.</p>"},{"location":"changelog/#v442-restore-fish_prompt-to-default-content-after-_pure_uninstall-run-316","title":"v4.4.2: Restore fish_prompt to default content after <code>_pure_uninstall</code> run #316","text":"<p>2023-06-29</p>"},{"location":"changelog/#restore-fish_prompt-to-default-content-after-_pure_uninstall-run","title":"Restore fish_prompt to default content after <code>_pure_uninstall</code> run","text":"<p>pure-related variables were erased, but the <code>fish_prompt</code> file was still calling <code>pure</code> functions and throwing a lot of errors. </p> <p>To mitigate this, we replace <code>fish_prompt.fish</code> from the user (<code>$__fish_config_dir</code>) by the default one (<code>__fish_data_dir</code>)</p>"},{"location":"changelog/#thanks_9","title":"Thanks","text":"<ul> <li>@andreysoktoev for raising #314 </li> </ul>"},{"location":"changelog/#installation_5","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#whats-changed_21","title":"What's Changed","text":"<ul> <li>fix: restore fish_prompt to default content after _pure_uninstall run by @edouard-lopez in pure-fish/pure!316</li> </ul> <p>Full Changelog: https://github.com/pure-fish/pure/compare/v4.4.1...v4.4.2</p>"},{"location":"changelog/#v441-fix-the-path-part-doesnt-show","title":"v4.4.1: Fix The path part doesn't show","text":"<p>2023-01-31</p>"},{"location":"changelog/#the-path-part-doesnt-show","title":"The path part doesn't show","text":"<p>When <code>git</code> is missing from the system, we incorrectly aborted the whole prompt, and we even had a test case for that   So now, we simply skip <code>git</code>-related features when it is missing and carry on (cf. #313).</p>"},{"location":"changelog/#thanks_10","title":"Thanks","text":"<ul> <li>@w3ntao for raising #166 </li> </ul>"},{"location":"changelog/#installation_6","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#v440-add-ssh-and-container-symbol-customization","title":"\ud83d\udce6 v4.4.0: Add SSH and container symbol customization","text":"<p>2022-12-14</p> <p>As for previous features, the customization is opt-in, and it's up to the user to configure it.</p>"},{"location":"changelog/#container-detection-and-prefix","title":"\ud83d\udc0b Container detection and prefix","text":"<p>The container detection is enabled by default, but you need to be inside a container to see its effect:</p> <p></p>"},{"location":"changelog/#default-settings","title":"Default settings","text":"<pre><code>pure_enable_container_detection true\npure_symbol_container_prefix \"\" # suggestion: '\ud83d\udc0b' or '\ud83d\udce6'\n</code></pre>"},{"location":"changelog/#usage_2","title":"Usage","text":"<p>The default symbol is an empty string, you will need to set what you want like:</p> <pre><code>\u276f set --universal pure_symbol_container_prefix '\ud83d\udc0b'\n</code></pre>"},{"location":"changelog/#ssh-detection-and-prefix","title":"SSH detection and prefix","text":"<p>The SSH detection is enabled by default, but you need to be inside a container to see its effect: </p>"},{"location":"changelog/#default-settings_1","title":"Default settings","text":"<pre><code>_pure_set_default pure_symbol_ssh_prefix \"\" # suggestion: 'ssh:/' or '\ud83d\udd17\ud83d\udd10\ud83d\udd12\ud83c\udf10'\n</code></pre>"},{"location":"changelog/#usage_3","title":"Usage","text":"<p>The default symbol is an empty string, you will need to set what you want like:</p> <pre><code>\u276f set --universal pure_symbol_ssh_prefix 'ssh:/'\n</code></pre>"},{"location":"changelog/#installation_7","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#v431-fix-ssh-prompt","title":"v4.3.1: Fix SSH prompt","text":"<p>2022-10-18</p>"},{"location":"changelog/#remove-unwanted-character","title":"Remove unwanted character","text":"<ul> <li>[x]  fix(prompt): remove unwanted characters in my prompt #305 </li> </ul>"},{"location":"changelog/#installation_8","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_11","title":"Thanks","text":"<ul> <li>@patricklewis for raising the #305</li> </ul>"},{"location":"changelog/#v430-add-flag-to-disable-container-detection","title":"v4.3.0: Add flag to disable container detection","text":"<p>2022-10-18</p>"},{"location":"changelog/#remove-unwanted-character_1","title":"Remove unwanted character","text":"<ul> <li>[x]  fix/301 voidlinux container detection #302 </li> </ul>"},{"location":"changelog/#add-flag-to-disable-container-detection","title":"Add flag to disable container detection","text":"<p>Let user disable container detection as detecting this is not an exact science.</p> Option Default Description <code>pure_enable_container_detection</code> <code>true</code> <code>false</code>: Do not check if run in container (e.g. <code>docker</code>, <code>podman</code>, <code>LXC</code>/<code>LXD</code>, etc.). Detection is a bit [tricky across OSes][container-detection]. <p>Enable feature</p> <pre><code>\u276f set --universal pure_enable_container_detection true\n</code></pre>"},{"location":"changelog/#installation_9","title":"Installation","text":"<pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_12","title":"Thanks","text":"<ul> <li>@0-st for #301 </li> </ul>"},{"location":"changelog/#v423-skip-linux-only-methods-to-detect-container-on-macos","title":"v4.2.3: Skip Linux-only methods to detect container on MacOS","text":"<p>2022-10-08</p>"},{"location":"changelog/#fix-linux-only-methods-to-detect-container-on-macos","title":"Fix: Linux-only methods to detect container on MacOS","text":"<p>Issue #295 was caused by functions that expected <code>/proc/</code> to exist on the system to be executed. However, those are Linux-only approach. So, running them only for Linux declared OS (cf. <code>uname -s</code>) fixed the issue in #298 .</p> <p>###  Installation  The project has a new home, thanks to @rafaelrinaldi. It's now under pure-fish organization:</p> <pre><code>fisher install pure-fish/pure\n</code></pre>"},{"location":"changelog/#thanks_13","title":"Thanks","text":"<ul> <li>@Defman21 @nertzy @externl for helping the resolution</li> <li>@orf for making me aware of <code>fisher install pure-fish/pure@&lt;BRANCH_NAME&gt;</code></li> </ul>"},{"location":"contributing/","title":"Contribution Guide","text":""},{"location":"contributing/#code-of-conduct","title":"Code of Conduct","text":"<ul> <li>Be kind to others ;</li> <li>Critique code not people.</li> </ul>"},{"location":"contributing/#work-inside-a-docker","title":"Work inside a Docker","text":"<p>Info</p> <p>We use <code>docker</code> to isolate from our working environment.</p> <p>Specify the <code>FISH_VERSION</code> you want, and the <code>CMD</code> executed by the container:</p> <pre><code>make build-pure-on FISH_VERSION=4.0.2\nmake dev-pure-on FISH_VERSION=4.0.2 CMD=\"fishtape tests/*.test.fish\"\n</code></pre> <p>Working with NixOS</p> <p>We have targets for <code>NixOS</code> called <code>nix-build-pure-on</code> and <code>nix-dev-pure-on</code>:</p> <pre><code>\u276f make build-pure-on-nix dev-pure-on-nix FISH_VERSION=4.0.2\n</code></pre>"},{"location":"contributing/#code-conventions","title":"Code Conventions","text":""},{"location":"contributing/#be-fishy","title":"Be Fishy","text":"<p>Use the idiomatic <code>test</code> instead of <code>[</code> brackets (as recommended by the documentation).</p>"},{"location":"contributing/#be-explicit","title":"Be Explicit","text":"<ul> <li> <p>Use long form options, e.g. <code>set --local</code>, as they are more explicit over cryptic 1-letter form.</p> <pre><code>-set -l threshold 0 # in seconds\n+set --local threshold 0 # in seconds\n</code></pre> </li> <li> <p>Use proxy variable to explicit your intention, e.g. use <code>last_exit_code</code> instead of <code>$argv[-1]</code>.</p> <pre><code>-set --local pure_symbol (_pure_prompt_symbol $argv[-1]) # Use last exit code only\n+set --local last_exit_code $argv[-1]\n+set --local pure_symbol (_pure_prompt_symbol $last_exit_code)\n</code></pre> </li> </ul>"},{"location":"contributing/#naming-public-item","title":"Naming Public Item","text":"<p>Namespace your item with the prefix <code>pure_</code>.</p> <ul> <li>Variable: <code>pure_my_variable</code></li> <li>Function: <code>pure_my_public_function</code></li> <li>Filename: <code>pure_my_public_file.fish</code></li> <li>Test file: <code>pure_my_public_file.test.fish</code></li> </ul>"},{"location":"contributing/#naming-private-item","title":"Naming Private Item","text":"<p>Namespace your item with the prefix <code>_pure_</code> (begin with a single underscore).</p> <ul> <li>Variable: <code>_pure_my_variable</code></li> <li>Function: <code>_pure_my_private_function</code></li> <li>Filename: <code>_pure_my_private_file.fish</code></li> <li>Test file: <code>_pure_my_private_file.test.fish</code></li> </ul>"},{"location":"contributing/#local-and-tools","title":"Local and Tools","text":"<p>No need to use namespace when your variable is declared locally (<code>set --local</code>) or your file/test file is related to tooling (installer.fish, testing package managers install).</p> <ul> <li>Filename: <code>my_tool.fish</code></li> <li>Test file: <code>my_tool.test.fish</code></li> </ul>"},{"location":"contributing/#global-variable","title":"Global Variable","text":"<ul> <li>Public settings' default values are placed in conf.d/pure.fish</li> <li>Private settings and anything else <code>pure</code> needs to do on init are placed in conf.d/__pure_init.fish.</li> </ul>"},{"location":"contributing/#colors-variables","title":"Color's Variables","text":"<p>Base colors should follow <code>$pure_color_&lt;meaning&gt;</code> pattern (cf. bootstrap naming).</p>"},{"location":"contributing/#example","title":"Example","text":"<pre><code>$pure_color_info     # cyan\n$pure_color_success  # green\n$pure_color_warning  # yellow\n$pure_color_danger   # red\n$pure_color_light\n$pure_color_dark\n$pure_color_muted    # gray\n</code></pre>"},{"location":"contributing/#feature-design","title":"Feature Design","text":"<p>Each feature should have:</p> <ul> <li>[ ] Documentation</li> <li>[ ] entry in the README's table of contents ;</li> <li>[ ] entry in the doc feature overview ;</li> <li>[ ] a section detailing configuration and behavior in doc feature list ;</li> <li>[ ] [screenshot generation]screenshot for the different states of the feature.</li> <li>[ ] Configurable variables to control behavior and rendering:<ul> <li>[ ] a flag variable to enable/disable it, e.g. <code>$pure_enable_&lt;feature&gt;</code> ;</li> <li>[ ] a prefix symbol variable to allow customization, e.g. <code>$pure_symbol_&lt;feature&gt;</code> ;</li> <li>[ ] a color variable to allow customization, e.g. <code>$pure_color_&lt;feature&gt;</code> ;</li> </ul> </li> <li>[ ] Clean and tested implementation:</li> <li>[ ] a function file to encapsulate its logic, e.g. <code>functions/_pure_&lt;feature&gt;.fish</code> ;</li> <li>[ ] a test file to encapsulate its tests, e.g. <code>tests/_pure_&lt;feature&gt;.test.fish</code> ;</li> </ul>"},{"location":"contributing/#features-variables","title":"Feature's Variables","text":"<p>Each feature should have a dedicated variables to allow customization. Feature's variables (flag, symbol, color) should use <code>$pure_&lt;type&gt;_&lt;feature&gt;</code> naming pattern:</p> Role Name pattern flag <code>$pure_&lt;verb&gt;_&lt;feature&gt;</code> color <code>$pure_color_&lt;feature&gt;</code> symbol <code>$pure_symbol_&lt;feature&gt;</code>"},{"location":"contributing/#example_1","title":"Example","text":"<pre><code>$pure_enable_git_status\n</code></pre> <pre><code>$pure_symbol_git_unpushed_commits\n</code></pre> <pre><code>$pure_color_git_unpulled_commits\n</code></pre>"},{"location":"contributing/#feature-flags-variable","title":"Feature Flag's Variable","text":"<p>Name should follow <code>$pure_&lt;verb&gt;_&lt;feature&gt;</code> pattern, where:</p> <ul> <li><code>verb</code> describe the action triggered by the feature (i.e. <code>separate</code>, <code>begin</code>, <code>show</code>, etc.) ;</li> <li><code>feature</code> describe the what of the feature (i.e. <code>prompt_on_error</code>, <code>with_current_directory</code>, <code>git_status</code>, etc.). Value should be a boolean.</li> </ul>"},{"location":"contributing/#example_2","title":"Example","text":"<pre><code>$pure_begin_prompt_with_current_directory = true\n</code></pre> <pre><code>$pure_enable_git_async = false\n</code></pre>"},{"location":"contributing/#avoid-abbreviation","title":"Avoid abbreviation","text":"<p>Use complete word over abbreviation.</p>"},{"location":"contributing/#example_3","title":"Example","text":"<pre><code>$pure_threshold_command_duration\n</code></pre>"},{"location":"contributing/#posting-on-social-media","title":"Posting on social media","text":"<p>There is a manual workflow to post on social media.</p>"},{"location":"contributing/#releasing","title":"Releasing","text":"<p>Release process is automated in the pipeline with the following steps.</p> <p>Info</p> <p>We follow semver, release is manage in the pipeline</p>"},{"location":"contributing/#posting-on-social-media_1","title":"Posting on social media","text":"<p>There is a workflow to post on social media that is triggered when a new release is published.</p>"},{"location":"contributing/#test","title":"Test","text":"<p>We run the test workflow on:</p> <ul> <li>Pull Request changing</li> <li>any <code>**.fish</code> ;</li> <li>and workflow (<code>*.yml</code>) files ;</li> <li>on <code>master</code> branch changing</li> <li><code>**.fish</code> files with the exception <code>conf.d/pure.fish</code>, as we have dedicated mechanism to manage versions bump ;</li> <li>and workflow (<code>*.yml</code>) files</li> </ul>"},{"location":"contributing/#versioning","title":"Versioning","text":"<p>Success</p> <p>Commit messages must follow conventional commits convention.</p> <p>Versioning is done automatically based on commit messages and triggered only on <code>master</code> branch.</p> <p>Details:</p> <ol> <li>We compute the project's next version using a GitHub Action ;</li> <li>Then update <code>$pure_version</code> value in <code>./conf.d/pure.fish</code> ;</li> <li>Finally commit and push the change to the repo.</li> </ol> <p>Info</p> <p>We have a git hook to append branch name to version on branch checkout. You need to enable githooks in your local repo with </p> <pre><code>git config core.hooksPath .githooks/\n</code></pre>"},{"location":"contributing/#adding-new-tag","title":"Adding new tag","text":"<p>The <code>add-version-tag.yml</code> pipeline is triggered only for <code>master</code> when <code>./conf.d/pure.fish</code> is changed and add a tagged based on <code>$pure_version</code>.</p>"},{"location":"doc/","title":"Documentation","text":""},{"location":"doc/#configuration","title":"Configuration","text":"<p>You can tweak <code>pure</code> behavior and color by changing universal variables either directly in the terminal or in your <code>config.fish</code>, e.g.:</p> <pre><code># try to change prompt symbol\nset --universal pure_symbol_prompt '&gt;&gt;&gt;'\n# restore default\nset --universal pure_symbol_prompt '\u276f'\n</code></pre>"},{"location":"doc/#features","title":"Features","text":""},{"location":"doc/#check-for-new-release","title":"Check For New Release","text":"Option Default Description <code>pure_check_for_new_release</code> <code>false</code> <code>true</code>: check repo for new release (on every shell start) <p>Setting up release checking</p> <p>Check the troubleshooting section Customizing Fish Greeting.</p> <p>\ud83d\udc0c Faster Prompt</p> <p>Checking new release sends an HTTP request that slows down your prompt rendering as it waits for remote server response. Set it to <code>false</code> to speed up rendering:</p> <pre><code>set --universal pure_check_for_new_release false\n</code></pre> Enabled (with update)Enabled (no update) <p> </p> <p> </p>"},{"location":"doc/#container-detection-docker","title":"Container Detection (Docker)","text":"Option Default Description <code>pure_enable_container_detection</code> <code>true</code> <code>false</code>: Do not check pure runs inside a container (e.g. <code>docker</code>, <code>podman</code>, <code>LXC</code>/<code>LXD</code>, etc.). Detection is a bit tricky across OSes. <code>pure_symbol_container_prefix</code> Prefix when being inside a container (to customize) Enabled (inside a container)Enabled (outside a container)"},{"location":"doc/#current-working-directory","title":"Current Working Directory","text":"Option Default Description <code>pure_begin_prompt_with_current_directory</code> <code>true</code> <code>true</code>: <code>pwd</code> <code>git</code>, <code>SSH</code>, duration.<code>false</code>: <code>SSH</code> <code>pwd</code> <code>git</code>, duration. <code>pure_shorten_prompt_current_directory_length</code> <code>0</code> Shorten every prompt path component but the last to X characters (0 do not shorten) <code>pure_truncate_prompt_current_directory_keeps</code> <code>0</code> Truncate working directory path in prompt, but keeps the last to <code>n</code> components (<code>0</code> full path in current directory) Enabled (pwd first)Disabled (SSH first)"},{"location":"doc/#git","title":"Git","text":"Option Default Description <code>pure_enable_git</code> <code>true</code> Show info about Git repository. <code>pure_symbol_git_dirty</code> <code>*</code> Repository is Dirty (uncommitted/untracked changes). <code>pure_symbol_git_stash</code> <code>\u2261</code> Repository git stash status. <code>pure_symbol_git_unpulled_commits</code> <code>\u21e3</code> Branch is behind upstream (commits to pull). <code>pure_symbol_git_unpushed_commits</code> <code>\u21e1</code> Branch is ahead upstream (commits to push). <code>pure_show_numbered_git_indicator</code> <code>false</code> Show number of git stash and commits behind/ahead <p> Need safer <code>git</code> symbols?</p> Enabled (with <code>git</code>)Disabled (without <code>git</code> info) <p> </p> <p> </p>"},{"location":"doc/#jobs","title":"Jobs","text":"Option Default Description <code>pure_show_jobs</code> <code>false</code> Show Number of running jobs Enabled (with running jobs)Disabled (without jobs info)"},{"location":"doc/#kubernetes","title":"Kubernetes","text":"Option Default Description <code>pure_symbol_k8s_prefix</code> <code>\u2638</code> Prefix when being connected to Kubernetes/K8s <code>pure_enable_k8s</code> <code>false</code> <code>true</code>: shows <code>kubernetes</code> context and namespace. Enabled (with <code>k8s</code> context and namespace)Disabled (without <code>k8s</code> info)"},{"location":"doc/#nixos","title":"NixOS","text":"<p>Indicate if nix develop shell is activated in their prompt.</p> Option Default Description <code>pure_enable_nixdevshell</code> <code>false</code> Indicate if a <code>nix develop</code> shell is activated (based on <code>IN_NIX_SHELL</code>). <code>pure_symbol_nixdevshell_prefix</code> <code>\u2744\ufe0f</code> otherwise nerdfonts: '\udb84\udd05' or '\uf313' <code>pure_color_nixdevshell_prefix</code> <code>pure_color_info</code> prefix color <code>pure_color_nixdevshell_symbol</code> <code>pure_color_mute</code> symbol color Enabled (inside nix develop shell)Disabled (without nix info) <p> </p> <p> </p>"},{"location":"doc/#prompt-symbol","title":"Prompt Symbol","text":"Option Default Description <code>pure_symbol_prompt</code> <code>\u276f</code> Control the prompt symbol."},{"location":"doc/#previous-command-status","title":"Previous command status","text":"<p>Previous command exit status change the prompt symbol color.</p> On Successful commandOn Failed command <p> </p> <p> </p>"},{"location":"doc/#python-virtualenv","title":"Python Virtualenv","text":"Option Default Description <code>pure_enable_virtualenv</code> <code>true</code> Show virtual env name (based on <code>VIRTUAL_ENV_PROMPT</code>, <code>VIRTUAL_ENV</code> or <code>CONDA_DEFAULT_ENV</code>). <code>pure_symbol_virtualenv_prefix</code> Prefix when a Python virtual env is activated (default: undefined) Enabled (with virtualenv)Disabled (without virtualenv)"},{"location":"doc/#aws-profile","title":"AWS Profile","text":"Option Default Description <code>pure_enable_aws_profile</code> <code>true</code> Show AWS profile name (based on <code>AWS_VAULT</code> or <code>AWS_PROFILE</code>). <code>pure_symbol_aws_profile_prefix</code> Prefix when a AWS profile is activated (default: undefined) Enabled (with AWS profile)Disabled (without AWS profile)"},{"location":"doc/#separate-error-symbol","title":"Separate Error Symbol","text":"Option Default Description <code>pure_separate_prompt_on_error</code> <code>false</code> Show last command exit code as a second prompt symbol. Enabled (separate error symbol)Disabled"},{"location":"doc/#list-exit-statuses","title":"List Exit Statuses","text":"Option Default Description <code>pure_show_exit_status</code> <code>false</code> <code>true</code>: Show list of status codes if the last command failed <code>pure_convert_exit_status_to_signal</code> <code>false</code> <code>true</code>: Convert statuses 129 and up to their signal names <code>pure_symbol_exit_status_prefix</code> <code>|</code> Prefix when the last command failed <code>pure_symbol_exit_status_separator</code> <code>|</code> Separator between statuses in a pipeline Enabled (list exit statuses)Enabled (convert statuses to signals)Disabled"},{"location":"doc/#single-line-prompt","title":"Single Line Prompt","text":"Option Default Description <code>pure_enable_single_line_prompt</code> <code>false</code> <code>true</code>: Compact prompt as a single line Enabled (prompt on a single line)Disabled (prompt on two lines)"},{"location":"doc/#ssh-session","title":"SSH Session","text":"Option Default Description <code>pure_symbol_ssh_prefix</code> Show SSH session prefix, after path, when being connected to an SSH session (default: undefined) Connected (show SSH username and host)Disconnected"},{"location":"doc/#time","title":"Time","text":"Option Default Description <code>pure_show_system_time</code> <code>false</code> <code>true</code>: shows system time before the prompt symbol (as <code>%H:%M:%S</code>). Show system time (enabled)Show system time (disabled)"},{"location":"doc/#command-duration","title":"Command Duration","text":"Option Default Description <code>pure_show_subsecond_command_duration</code> <code>false</code> Show subsecond (ex. 1.5s) in command duration. <code>pure_threshold_command_duration</code> <code>5</code> Show command duration when above this value (seconds). Subsecond duration (disabled)Subsecond duration (enabled)"},{"location":"doc/#title","title":"Title","text":"Option Default Description <code>pure_symbol_title_bar_separator</code> <code>-</code> Separator in terminal's windows title. <code>pure_shorten_window_title_current_directory_length</code> <code>0</code> Shorten every window title path component but the last to X characters (0 do not shorten) <code>pure_truncate_window_title_current_directory_keeps</code> <code>0</code> Truncate working directory path in window title, but keeps the last to <code>n</code> components (<code>0</code> full path in window title)"},{"location":"doc/#transient-prompt","title":"Transient Prompt","text":"<p>Simplify previous prompts in scrollback history (Fish 4.1.0+)</p> Option Default Description <code>fish_transient_prompt</code> - Fish built-in variable. Set to <code>1</code> to enable transient prompt. <p>Shows a simplified prompt (just the prompt symbol) for previous commands, keeping your scrollback clean while maintaining full context on the current prompt. When enabled, Fish re-runs the prompt with <code>--final-rendering</code> before executing a command.</p> <p>Recommended: Enable Single Line Prompt</p> <p>Transient prompt works best with single line prompt enabled:</p> <pre><code>set --universal fish_transient_prompt 1\nset --universal pure_enable_single_line_prompt true\n</code></pre> Enabled (simplified previous prompts, single line)Enabled (simplified previous prompts, multi-line)Disabled (full prompts in scrollback) <p> </p> <p> </p> <p> </p>"},{"location":"doc/#vi-mode","title":"VI Mode","text":"Option Default Description <code>pure_reverse_prompt_symbol_in_vimode</code> <code>true</code> <code>true</code>: <code>\u276e</code> indicate a non-insert mode.<code>false</code>: indicate vi mode with <code>[I]</code>, <code>[N]</code>, <code>[V]</code>. <code>pure_symbol_reverse_prompt</code> <code>\u276e</code> VI non-insert mode symbol. Reverse symbol (enabled)Mode indicator (disabled)"},{"location":"doc/#working-as-root","title":"Working as Root","text":"Option Default Description <code>pure_show_prefix_root_prompt</code> <code>false</code> <code>true</code>: shows prompt prefix when logged in as <code>root</code>. <code>pure_symbol_prefix_root_prompt</code> <code>#</code> Prefix prompt when logged in as <code>root</code>. Enabled (prefix prompt symbol)Disabled"},{"location":"doc/#colours","title":"Colours","text":"<p>Tip</p> <p>See <code>set_color</code> documentation for full possibilities.</p> <p>Info</p> <p>The absence of <code>$</code> sign is expected in <code>pure_</code> named colours.</p> Base Color Inherited by Default <code>pure_color_danger</code> <code>pure_color_prompt_on_error</code><code>pure_color_exit_status</code> <code>red</code> <code>pure_color_dark</code> <code>black</code> <code>pure_color_info</code> <code>pure_color_git_unpulled_commits</code><code>pure_color_git_unpushed_commits</code> <code>cyan</code> <code>pure_color_light</code> <code>pure_color_username_root</code> <code>white</code> <code>pure_color_mute</code> <code>pure_color_git_branch</code><code>pure_color_git_dirty</code><code>pure_color_git_stash</code><code>pure_color_hostname</code><code>pure_color_at_sign</code><code>pure_color_username_normal</code><code>pure_color_virtualenv</code> <code>brblack</code> <code>pure_color_normal</code> <code>pure_color_jobs</code> <code>normal</code> <code>pure_color_primary</code> <code>pure_color_current_directory</code> <code>blue</code> <code>pure_color_success</code> <code>pure_color_prompt_on_success</code> <code>magenta</code> <code>pure_color_warning</code> <code>pure_color_command_duration</code> <code>yellow</code>"},{"location":"doc/#troubleshooting","title":"Troubleshooting","text":""},{"location":"doc/#customizing-fish-greeting","title":"Customizing Fish Greeting","text":"<p>Info</p> <p>Since version <code>\u22654.13.x</code>, <code>pure</code> does not override your <code>fish_greeting</code> function anymore, allowing you to use your own custom greeting.</p> <p>To configure your Fish's greeting, edit <code>$__fish_config_dir/functions/fish_greeting.fish</code> function or the related variable:</p> Check for new releaseVoid <code>fish_greeting</code> functionEmpty <code>fish_greeting</code> variable <p>Add the following to call pure_check_for_new_release on each new shell (i.e., when a new terminal session or <code>tmux</code> tab starts):</p> <pre><code>function fish_greeting\n    _pure_check_for_new_release\nend\n</code></pre> <p>Voiding the fish_greeting.fish function will stop printing any greeting:</p> <pre><code>function fish_greeting\n    # remove content to disable greeting\nend\n</code></pre> <p>Or set the greeting to an empty string to stop printing any greeting:</p> <pre><code>set --universal fish_greeting\n</code></pre>"},{"location":"doc/#install-and-update","title":"Install and Update","text":"<p>We do our best to clean up after ourselves and provide information on the version installed or updated.</p> Fresh InstallUpdate <p> </p> <p> </p>"},{"location":"doc/#slowness-try-async-git-prompt","title":"Slowness: try Async <code>git</code> Prompt","text":"<p>Info</p> <p>Big repository can slow down the prompt rendering.</p> <p>In order to ensure the <code>git</code> prompt updates without lag, you can add fish-async-prompt using <code>fisher</code>:</p> <pre><code>fisher install acomagu/fish-async-prompt\n</code></pre> <p>... and put this in your <code>config.fish</code>:</p> <pre><code>set -g async_prompt_functions _pure_prompt_git\n</code></pre>"},{"location":"components/badges/","title":"Badges","text":""},{"location":"components/colours/","title":"Colours","text":"<p>Tip</p> <p>See <code>set_color</code> documentation for full possibilities.</p> <p>Info</p> <p>The absence of <code>$</code> sign is expected in <code>pure_</code> named colours.</p> Base Color Inherited by Default <code>pure_color_danger</code> <code>pure_color_prompt_on_error</code><code>pure_color_exit_status</code> <code>red</code> <code>pure_color_dark</code> <code>black</code> <code>pure_color_info</code> <code>pure_color_git_unpulled_commits</code><code>pure_color_git_unpushed_commits</code> <code>cyan</code> <code>pure_color_light</code> <code>pure_color_username_root</code> <code>white</code> <code>pure_color_mute</code> <code>pure_color_git_branch</code><code>pure_color_git_dirty</code><code>pure_color_git_stash</code><code>pure_color_hostname</code><code>pure_color_at_sign</code><code>pure_color_username_normal</code><code>pure_color_virtualenv</code> <code>brblack</code> <code>pure_color_normal</code> <code>pure_color_jobs</code> <code>normal</code> <code>pure_color_primary</code> <code>pure_color_current_directory</code> <code>blue</code> <code>pure_color_success</code> <code>pure_color_prompt_on_success</code> <code>magenta</code> <code>pure_color_warning</code> <code>pure_color_command_duration</code> <code>yellow</code>"},{"location":"components/configuration/","title":"Configuration","text":"<p>You can tweak <code>pure</code> behavior and color by changing universal variables either directly in the terminal or in your <code>config.fish</code>, e.g.:</p> <pre><code># try to change prompt symbol\nset --universal pure_symbol_prompt '&gt;&gt;&gt;'\n# restore default\nset --universal pure_symbol_prompt '\u276f'\n</code></pre>"},{"location":"components/features-list/","title":"Features list","text":""},{"location":"components/features-list/#check-for-new-release","title":"Check For New Release","text":"Option Default Description <code>pure_check_for_new_release</code> <code>false</code> <code>true</code>: check repo for new release (on every shell start) <p>Setting up release checking</p> <p>Check the troubleshooting section Customizing Fish Greeting.</p> <p>\ud83d\udc0c Faster Prompt</p> <p>Checking new release sends an HTTP request that slows down your prompt rendering as it waits for remote server response. Set it to <code>false</code> to speed up rendering:</p> <pre><code>set --universal pure_check_for_new_release false\n</code></pre> Enabled (with update)Enabled (no update) <p> </p> <p> </p>"},{"location":"components/features-list/#container-detection-docker","title":"Container Detection (Docker)","text":"Option Default Description <code>pure_enable_container_detection</code> <code>true</code> <code>false</code>: Do not check pure runs inside a container (e.g. <code>docker</code>, <code>podman</code>, <code>LXC</code>/<code>LXD</code>, etc.). Detection is a bit tricky across OSes. <code>pure_symbol_container_prefix</code> Prefix when being inside a container (to customize) Enabled (inside a container)Enabled (outside a container)"},{"location":"components/features-list/#current-working-directory","title":"Current Working Directory","text":"Option Default Description <code>pure_begin_prompt_with_current_directory</code> <code>true</code> <code>true</code>: <code>pwd</code> <code>git</code>, <code>SSH</code>, duration.<code>false</code>: <code>SSH</code> <code>pwd</code> <code>git</code>, duration. <code>pure_shorten_prompt_current_directory_length</code> <code>0</code> Shorten every prompt path component but the last to X characters (0 do not shorten) <code>pure_truncate_prompt_current_directory_keeps</code> <code>0</code> Truncate working directory path in prompt, but keeps the last to <code>n</code> components (<code>0</code> full path in current directory) Enabled (pwd first)Disabled (SSH first)"},{"location":"components/features-list/#git","title":"Git","text":"Option Default Description <code>pure_enable_git</code> <code>true</code> Show info about Git repository. <code>pure_symbol_git_dirty</code> <code>*</code> Repository is Dirty (uncommitted/untracked changes). <code>pure_symbol_git_stash</code> <code>\u2261</code> Repository git stash status. <code>pure_symbol_git_unpulled_commits</code> <code>\u21e3</code> Branch is behind upstream (commits to pull). <code>pure_symbol_git_unpushed_commits</code> <code>\u21e1</code> Branch is ahead upstream (commits to push). <code>pure_show_numbered_git_indicator</code> <code>false</code> Show number of git stash and commits behind/ahead <p> Need safer <code>git</code> symbols?</p> Enabled (with <code>git</code>)Disabled (without <code>git</code> info) <p> </p> <p> </p>"},{"location":"components/features-list/#jobs","title":"Jobs","text":"Option Default Description <code>pure_show_jobs</code> <code>false</code> Show Number of running jobs Enabled (with running jobs)Disabled (without jobs info)"},{"location":"components/features-list/#kubernetes","title":"Kubernetes","text":"Option Default Description <code>pure_symbol_k8s_prefix</code> <code>\u2638</code> Prefix when being connected to Kubernetes/K8s <code>pure_enable_k8s</code> <code>false</code> <code>true</code>: shows <code>kubernetes</code> context and namespace. Enabled (with <code>k8s</code> context and namespace)Disabled (without <code>k8s</code> info)"},{"location":"components/features-list/#nixos","title":"NixOS","text":"<p>Indicate if nix develop shell is activated in their prompt.</p> Option Default Description <code>pure_enable_nixdevshell</code> <code>false</code> Indicate if a <code>nix develop</code> shell is activated (based on <code>IN_NIX_SHELL</code>). <code>pure_symbol_nixdevshell_prefix</code> <code>\u2744\ufe0f</code> otherwise nerdfonts: '\udb84\udd05' or '\uf313' <code>pure_color_nixdevshell_prefix</code> <code>pure_color_info</code> prefix color <code>pure_color_nixdevshell_symbol</code> <code>pure_color_mute</code> symbol color Enabled (inside nix develop shell)Disabled (without nix info) <p> </p> <p> </p>"},{"location":"components/features-list/#prompt-symbol","title":"Prompt Symbol","text":"Option Default Description <code>pure_symbol_prompt</code> <code>\u276f</code> Control the prompt symbol."},{"location":"components/features-list/#previous-command-status","title":"Previous command status","text":"<p>Previous command exit status change the prompt symbol color.</p> On Successful commandOn Failed command <p> </p> <p> </p>"},{"location":"components/features-list/#python-virtualenv","title":"Python Virtualenv","text":"Option Default Description <code>pure_enable_virtualenv</code> <code>true</code> Show virtual env name (based on <code>VIRTUAL_ENV_PROMPT</code>, <code>VIRTUAL_ENV</code> or <code>CONDA_DEFAULT_ENV</code>). <code>pure_symbol_virtualenv_prefix</code> Prefix when a Python virtual env is activated (default: undefined) Enabled (with virtualenv)Disabled (without virtualenv)"},{"location":"components/features-list/#aws-profile","title":"AWS Profile","text":"Option Default Description <code>pure_enable_aws_profile</code> <code>true</code> Show AWS profile name (based on <code>AWS_VAULT</code> or <code>AWS_PROFILE</code>). <code>pure_symbol_aws_profile_prefix</code> Prefix when a AWS profile is activated (default: undefined) Enabled (with AWS profile)Disabled (without AWS profile)"},{"location":"components/features-list/#separate-error-symbol","title":"Separate Error Symbol","text":"Option Default Description <code>pure_separate_prompt_on_error</code> <code>false</code> Show last command exit code as a second prompt symbol. Enabled (separate error symbol)Disabled"},{"location":"components/features-list/#list-exit-statuses","title":"List Exit Statuses","text":"Option Default Description <code>pure_show_exit_status</code> <code>false</code> <code>true</code>: Show list of status codes if the last command failed <code>pure_convert_exit_status_to_signal</code> <code>false</code> <code>true</code>: Convert statuses 129 and up to their signal names <code>pure_symbol_exit_status_prefix</code> <code>|</code> Prefix when the last command failed <code>pure_symbol_exit_status_separator</code> <code>|</code> Separator between statuses in a pipeline Enabled (list exit statuses)Enabled (convert statuses to signals)Disabled"},{"location":"components/features-list/#single-line-prompt","title":"Single Line Prompt","text":"Option Default Description <code>pure_enable_single_line_prompt</code> <code>false</code> <code>true</code>: Compact prompt as a single line Enabled (prompt on a single line)Disabled (prompt on two lines)"},{"location":"components/features-list/#ssh-session","title":"SSH Session","text":"Option Default Description <code>pure_symbol_ssh_prefix</code> Show SSH session prefix, after path, when being connected to an SSH session (default: undefined) Connected (show SSH username and host)Disconnected"},{"location":"components/features-list/#time","title":"Time","text":"Option Default Description <code>pure_show_system_time</code> <code>false</code> <code>true</code>: shows system time before the prompt symbol (as <code>%H:%M:%S</code>). Show system time (enabled)Show system time (disabled)"},{"location":"components/features-list/#command-duration","title":"Command Duration","text":"Option Default Description <code>pure_show_subsecond_command_duration</code> <code>false</code> Show subsecond (ex. 1.5s) in command duration. <code>pure_threshold_command_duration</code> <code>5</code> Show command duration when above this value (seconds). Subsecond duration (disabled)Subsecond duration (enabled)"},{"location":"components/features-list/#title","title":"Title","text":"Option Default Description <code>pure_symbol_title_bar_separator</code> <code>-</code> Separator in terminal's windows title. <code>pure_shorten_window_title_current_directory_length</code> <code>0</code> Shorten every window title path component but the last to X characters (0 do not shorten) <code>pure_truncate_window_title_current_directory_keeps</code> <code>0</code> Truncate working directory path in window title, but keeps the last to <code>n</code> components (<code>0</code> full path in window title)"},{"location":"components/features-list/#transient-prompt","title":"Transient Prompt","text":"<p>Simplify previous prompts in scrollback history (Fish 4.1.0+)</p> Option Default Description <code>fish_transient_prompt</code> - Fish built-in variable. Set to <code>1</code> to enable transient prompt. <p>Shows a simplified prompt (just the prompt symbol) for previous commands, keeping your scrollback clean while maintaining full context on the current prompt. When enabled, Fish re-runs the prompt with <code>--final-rendering</code> before executing a command.</p> <p>Recommended: Enable Single Line Prompt</p> <p>Transient prompt works best with single line prompt enabled:</p> <pre><code>set --universal fish_transient_prompt 1\nset --universal pure_enable_single_line_prompt true\n</code></pre> Enabled (simplified previous prompts, single line)Enabled (simplified previous prompts, multi-line)Disabled (full prompts in scrollback) <p> </p> <p> </p> <p> </p>"},{"location":"components/features-list/#vi-mode","title":"VI Mode","text":"Option Default Description <code>pure_reverse_prompt_symbol_in_vimode</code> <code>true</code> <code>true</code>: <code>\u276e</code> indicate a non-insert mode.<code>false</code>: indicate vi mode with <code>[I]</code>, <code>[N]</code>, <code>[V]</code>. <code>pure_symbol_reverse_prompt</code> <code>\u276e</code> VI non-insert mode symbol. Reverse symbol (enabled)Mode indicator (disabled)"},{"location":"components/features-list/#working-as-root","title":"Working as Root","text":"Option Default Description <code>pure_show_prefix_root_prompt</code> <code>false</code> <code>true</code>: shows prompt prefix when logged in as <code>root</code>. <code>pure_symbol_prefix_root_prompt</code> <code>#</code> Prefix prompt when logged in as <code>root</code>. Enabled (prefix prompt symbol)Disabled"},{"location":"components/features-overview/","title":"Features overview","text":""},{"location":"components/features-overview/#overview","title":"Overview","text":"<p>Fully customizable (colors, symbols and features):</p> <ul> <li> <p>Excellent prompt character <code>\u276f</code> \ud83d\udee0:</p> <ul> <li>Change <code>\u276f</code> to red when previous command has failed \ud83d\udee0 ;</li> <li>Start prompt with current working directory \ud83c\udff4 ;</li> <li>Compact-mode (single-line prompt) \ud83c\udff4 ;</li> <li>List exit statuses if the last command failed \ud83c\udff4 ;</li> </ul> </li> <li> <p>Check for new release on start \ud83c\udff4\ud83d\udc0c ;</p> </li> <li>Display username and hostname when in an <code>SSH</code> session \ud83d\udee0 ;</li> <li>Display command duration when longer than <code>5</code> seconds \ud83d\udee0 ;</li> <li>Display <code>Python</code> virtualenv when activated \ud83c\udff4\ud83d\udee0 ;</li> <li>Display <code>AWS</code> profile when set \ud83c\udff4\ud83d\udee0 ;</li> <li>Display <code>VI</code> mode and custom symbol for non-insert mode \ud83c\udff4\ud83d\udee0 ;</li> <li>Display <code>kubernetes</code> context and namespace \ud83c\udff4\ud83d\udee0 ;</li> <li>Detect when running in a container (e.g. <code>docker</code>, <code>podman</code>, <code>LXC</code>/<code>LXD</code>) \ud83c\udff4\ud83d\udee0</li> <li>Indicate if a <code>nix develop</code> shell is activated \ud83c\udff4\ud83d\udee0.</li> <li>Show system time \ud83c\udff4 ;</li> <li>Transient prompt mode simplifies previous prompts \ud83c\udff4 ;</li> <li>Show number of running jobs \ud83c\udff4 ;</li> <li>Prefix when <code>root</code> \ud83c\udff4\ud83d\udee0 ;</li> <li> <p>Display <code>git</code> branch name \ud83c\udff4\ud83d\udee0 ;</p> <ul> <li>Display <code>*</code> when <code>git</code> repository is dirty ;</li> <li>Display <code>\u2261</code> when <code>git</code> repository is stashed ;</li> <li>Display <code>\u21e1</code> when branch is ahead (commits to push) ;</li> <li>Display <code>\u21e3</code> when branch is behind (commits to pull) ;</li> <li>Display the number of stashes, ahead and behind commits (e.g. <code>\u22613 \u21e15 \u21e32</code>) ;</li> <li>Async update when configured with fish-async-prompt ;</li> </ul> </li> <li> <p>Update terminal title with current folder and command \ud83d\udee0 ;</p> </li> <li>Shorten or truncate current folder component \ud83c\udff4\ud83d\udee0 ;</li> <li>and more\u2026</li> </ul> <p>\ud83c\udff4 means it's controlled by a feature flag, \ud83d\udee0 means it's configurable.</p>"},{"location":"components/hero-banner/","title":"Hero banner","text":"<p>Pretty, minimal and fast Fish \ud83d\udc1f prompt, ported from <code>zsh</code>.</p>"},{"location":"components/installation/","title":"Installation","text":"<p>Requirements</p> <p>Pure is written in <code>fish</code> language, this requires Fish shell <code>\u22653.x</code>.</p> using FisherManuallyTest a Pull Request <p>Install Fisher plugin manager, then you can install <code>pure</code> latest version with:</p> <pre><code>fisher install pure-fish/pure\n</code></pre> <ol> <li> <p>Download the installer to <code>/tmp</code> <pre><code>curl git.io/pure-fish --output /tmp/pure_installer.fish --location --silent\n</code></pre></p> </li> <li> <p>Source and trigger the installer     <pre><code>source /tmp/pure_installer.fish; and install_pure\n</code></pre></p> </li> </ol> <p>Wanna preview a pull-request before it gets merged? Just append <code>@</code> symbol, followed by a tag, branch, or commit.</p> <pre><code>fisher install pure-fish/pure@v4.13.0\n</code></pre>"},{"location":"components/logo/","title":"Logo","text":""},{"location":"components/troubleshooting/","title":"Troubleshooting","text":""},{"location":"components/troubleshooting/#customizing-fish-greeting","title":"Customizing Fish Greeting","text":"<p>Info</p> <p>Since version <code>\u22654.13.x</code>, <code>pure</code> does not override your <code>fish_greeting</code> function anymore, allowing you to use your own custom greeting.</p> <p>To configure your Fish's greeting, edit <code>$__fish_config_dir/functions/fish_greeting.fish</code> function or the related variable:</p> Check for new releaseVoid <code>fish_greeting</code> functionEmpty <code>fish_greeting</code> variable <p>Add the following to call pure_check_for_new_release on each new shell (i.e., when a new terminal session or <code>tmux</code> tab starts):</p> <pre><code>function fish_greeting\n    _pure_check_for_new_release\nend\n</code></pre> <p>Voiding the fish_greeting.fish function will stop printing any greeting:</p> <pre><code>function fish_greeting\n    # remove content to disable greeting\nend\n</code></pre> <p>Or set the greeting to an empty string to stop printing any greeting:</p> <pre><code>set --universal fish_greeting\n</code></pre>"},{"location":"components/troubleshooting/#install-and-update","title":"Install and Update","text":"<p>We do our best to clean up after ourselves and provide information on the version installed or updated.</p> Fresh InstallUpdate <p> </p> <p> </p>"},{"location":"components/troubleshooting/#slowness-try-async-git-prompt","title":"Slowness: try Async <code>git</code> Prompt","text":"<p>Info</p> <p>Big repository can slow down the prompt rendering.</p> <p>In order to ensure the <code>git</code> prompt updates without lag, you can add fish-async-prompt using <code>fisher</code>:</p> <pre><code>fisher install acomagu/fish-async-prompt\n</code></pre> <p>... and put this in your <code>config.fish</code>:</p> <pre><code>set -g async_prompt_functions _pure_prompt_git\n</code></pre>"},{"location":"components/versioning-support-strategy/","title":"Versioning support strategy","text":"<p>We decided to restrict our support to the major <code>Fish</code> versions only (currently <code>3.x</code> and <code>4.x</code>).</p> <p>This decision is based on the availability of those versions on LTS Ubuntu thanks to the official PPAs' for Fish <code>3.x</code> PPA and Fish <code>4.x</code> as well as on others distributions repositories.</p> <p>As of May 2025, we should:</p> <ul> <li> Start supporting Fish <code>4.x</code> and above ;</li> <li> Set minimal support for <code>3.x</code> branch to <code>3.3.1</code> and above (as per Ubuntu LTS standard security maintenance policy) ;</li> <li>  drop support for <code>2.x</code> ;</li> </ul>"},{"location":"components/versioning-support-strategy/#energy-footprint","title":"Energy footprint","text":"<p>To reduce our energy footprint, we will only test:</p> <ul> <li>versions available on latest Ubuntu LTS, MacOS and NixOS (see availability) ;</li> <li>latest two versions of Fish.</li> </ul>"}]}